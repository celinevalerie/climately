<h1 class="page-title">Challenges</h1>
<h2 class="page-subtitle">Get started and add a challenge!</h2>

<div class="menu-container">
  <nav class="menu menu-pills d-flex align-items-center justify-content-around">
    <%= link_to 'All', challenges_path, class: "menu-item menu-link #{@category == 'All' ? 'active' : ''}"%>
    <%= link_to 'Food', challenges_path(category: 'Food'), class: "menu-item menu-link #{@category == 'Food' ? 'active' : ''}"%>
    <%= link_to 'Mobility', challenges_path(category: 'Mobility'), class: "menu-item menu-link #{@category == 'Mobility' ? 'active' : ''}"%>
    <%= link_to 'Waste', challenges_path(category: 'Waste'), class: "menu-item menu-link #{@category == 'Waste' ? 'active' : ''}"%>
  </nav>
</div>

<div class="container">
  <div class="row">
    <% @challenges.each do |challenge| %>
        <div class="col-12 col-md-6 col-xl-4 px-2 mb-3">
        <%= link_to new_challenge_group_path(challenge), class:"challengelink" do %>
          <div class="card">
            <div class="col card-col-img">
              <% if challenge.photo.present? %>
                <%= cl_image_tag(challenge.photo.key, class: "card-img") %>
              <% end %>
            </div>
            <div class="col card-b">
              <div class="card-body">
                <p class="industrycard mb-0"><strong><%= challenge.name %></strong></p>
                <p class="card-text"><%= challenge.description %></p>
              </div>
              <div class="row range card-range">
                <div class="col">
                  <%= image_tag("difficulty.png", size: "17x14")%>
                  <label for="exampleRangeDifficulty">Difficulty</label>
                    <div class="slider">
                      <div class="slider-value" style="width:<%= challenge.default_difficulty.fdiv(10)*100 %>%; height:5px; color:white;"></div>
                    </div>
                  </div>
                  <div class="col">
                  <%= image_tag("world.png", size: "14x14")%>
                  <label for="exampleRangeImpact">Impact</label>
                    <div class="slider">
                      <div class="slider-value" style="width:<%= challenge.default_impact.fdiv(10)*100 %>%; height:5px; color:white;"></div>
                    </div>
                </div>
            </div>
          </div>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
</div>